if (TRUE) {
list.of.packages <- c("tidyverse", "haven", "here", "kableExtra","rstudioapi",
"DescTools","qwraps2","data.table","stargazer","readxl","dplyr",
"rootSolve","sp","raster","rgdal","leaflet","wesanderson","plotKML",
"mapview")
new.packages <- list.of.packages[
!( list.of.packages %in% installed.packages()[,"Package"] )
]
if(length(new.packages)) install.packages(new.packages,
repos = "https://cloud.r-project.org")
lapply(list.of.packages, library, character.only = TRUE)
}
setwd(dirname(getActiveDocumentContext()$path))
knitr::opts_knit$set(root.dir = here())
knitr::opts_chunk$set(echo = T, eval = T, message = F, warning = F, fig.pos = "H", fig.height = 6, fig.width = 8)
# Loading World data
world <- map_data("world")
world$region
world$region %>%
unique()
# Loading World data
world <- map_data("world")
world$region %>%
unique()
biz_country <- c("Australia","Bangladesh","Burkina Faso",
"Chile","Cyprus","China","Germany","Egypt","France",
"UK","India","Israel","Italy","Kenya","Cambodia","South Korea",
"Mongolia","Poland","Russia","Singapore","USA")
vis_country <- c("Australia","Belgium","Brunei","Canada","France",
"Guam","India","Italy","Kenya","Cambodia","South Korea",
"Mexico","Netherlands","New Zealand","Philippines","Singapore",
"Thailand","Taiwan","USA","Vietnam")
fri_country <- c("Afghanistan","Albania","Australia","Brazil","Brunei","Canada","Colombia",
"Cape Verde","China","Denmark","Spain","France","India","Italy","Kenya",
"South Korea","Mexico","Myanmar","Pakistan","Peru","Philippines",
"Puerto Rico","North Korea","El Salvador","Thailand","Taiwan","Uganda",
"USA","Vietnam")
# Remove the Antarctica region
world <- subset(world, region != "Antarctica")
# Remove the French Southern and Antarctic Lands region
world <- subset(world, region != "French Southern and Antarctic Lands")
# Select the countries you want to keep
biz <- subset(world, region %in% biz_country)
vis <- subset(world, region %in% vis_country)
fri <- subset(world, region %in% fri_country)
map <- ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3)
map
# basemap
map <- ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3)
#Add a theme to your final map
map +
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("") +
# Add a title to your map
ggtitle("Basemap")
# basemap
map <- ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
#Add a theme to your final map
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("") +
# Add a title to your map
ggtitle("Basemap")
# basemap
map +
geom_polygon(data = bis, fill = "blue", size = 0.3, alpha = 0.6)
# basemap
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.6)
# basemap
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.2)
# basemap
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3) +
geom_polygon(data = vis, fill = "orange", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3)
# basemap
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3) +
geom_polygon(data = vis, fill = "yellow", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3)
world$region %>%
unique()
hom <- subset(world, region %in% c("Japan"))
# basemap
map <- ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(data = hom, fill = "black", size = 0.3, alpha = 0.3)
# basemap
map <- ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(data = hom, fill = "black", size = 0.3, alpha = 0.3) +
#Add a theme to your final map
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("") +
# Add a title to your map
ggtitle("Basemap")
# basemap
map <- ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(data = hom, fill = "black", size = 0.3, alpha = 0.3) +
#Add a theme to your final map
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
# basemap
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3) +
geom_polygon(data = vis, fill = "yellow", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3) +
# Add a title to your map
ggtitle("My map")
# basemap
map <- ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(data = hom, fill = "black", size = 0.3, alpha = 1) +
#Add a theme to your final map
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
# My map
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3) +
geom_polygon(data = vis, fill = "yellow", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3) +
# Add a title to your map
ggtitle("My map")
# My map
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3) +
geom_polygon(data = vis, fill = "yellow", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3) +
theme(legend.position = "bottom")
# My map
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3, show.legend = TRUE) +
geom_polygon(data = vis, fill = "yellow", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3) +
theme(legend.position = "bottom")
# My map
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3, show.legend = TRUE) +
geom_polygon(data = vis, fill = "yellow", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red")) +
theme(legend.position = "bottom")
# My map
map +
geom_polygon(data = biz, fill = "blue", size = 0.3, alpha = 0.3, show.legend = TRUE) +
geom_polygon(data = vis, fill = "yellow", size = 0.3, alpha = 0.3) +
geom_polygon(data = fri, fill = "red", size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red")) +
theme(legend.position = "right")
world$cat <- NA
world$cat[world$region%in% biz_country,] <- "biz"
world$cat[world$region %in% biz_country] <- "biz"
world$cat
unique(world$cat)
world$cat <- NA
world$cat[world$region %in% biz_country] <- "biz"
world$cat[world$region %in% vis_country] <- "vis"
world$cat[world$region %in% fri_country] <- "fri"
world$cat <- NA
world$cat[world$region %in% biz_country] <- "biz"
world$cat[world$region %in% vis_country] <- "vis"
world$cat[world$region %in% fri_country] <- "fri"
world$cat[world$region %in% c("Japan")] <- "hom"
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3)
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","white"))
levels(world$cat)
world$cat <- factor(world$cat, levels = c("biz","vis","fri", "hom"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","white"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white"))
world$cat <- factor(world$cat, levels = c("biz","vis","fri", "hom",NA))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white"))
world$cat <- factor(world$cat, levels = c("biz","vis","fri", "hom","NA"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white"))
world$cat <- as.character(world$cat)
world$cat <- factor(world$cat, levels = c("biz","vis","fri", "hom","NA"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white"))
+
#Add a theme to your final map
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white")) +
#Add a theme to your final map
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
world$cat <- NA
world$cat[world$region %in% biz_country] <- "biz"
world$cat[world$region %in% vis_country] <- "vis"
world$cat[world$region %in% fri_country] <- "fri"
world$cat[world$region %in% c("Japan")] <- "hom"
world$cat %>% replace_na('NA')
world$cat <- replace_na(world$cat,'NA')
world$cat <- factor(world$cat, levels = c("biz","vis","fri", "hom","NA"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white")) +
#Add a theme to your final map
theme(legend.position = "none") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white")) +
scale_fill_discrete(name = "Country", labels = c("Business", "Visited", "Friends", "Home", "NA"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white"),name = "Country", labels = c("Business", "Visited", "Friends", "Home", "NA")) +
scale_fill_discrete()
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","yellow","red","black","white"),name = "Country", labels = c("Business", "Visited", "Friends", "Home", "NA"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","red","yellow","black","white"),name = "Country", labels = c("Business",  "Friends", "Visited","Home", "NA")) +
#Add a theme to your final map
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
world$cat <- NA
world$cat[world$region %in% biz_country] <- "biz"
world$cat[world$region %in% fri_country] <- "fri"
world$cat[world$region %in% vis_country] <- "vis"
world$cat[world$region %in% c("Japan")] <- "hom"
world$cat <- replace_na(world$cat,'NA')
world$cat <- factor(world$cat, levels = c("biz","fri","vis","hom","NA"))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","red","yellow","black","white"),name = "Country", labels = c("Business",  "Friends", "Visited","Home", "NA")) +
#Add a theme to your final map
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
knitr::opts_chunk$set(echo = T, eval = T, message = F, warning = F, fig.pos = "H", fig.height = 6, fig.width = 12)
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","red","yellow","black","white"),name = "Country", labels = c("Business",  "Friends", "Visited","Home", "NA")) +
#Add a theme to your final map
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("")
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","red","yellow","black","white"),name = "Country", labels = c("Business",  "Friends", "Visited","Home", "NA")) +
#Add a theme to your final map
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("") +
# Choose the size of your map
coord_fixed(ratio=1.5, xlim = c(-165,175), ylim = c(-50,78))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","red","yellow","black","white"),name = "Country", labels = c("Business",  "Friends", "Visited","Home", "NA")) +
#Add a theme to your final map
theme(legend.position = "bottom") +
theme_void() +
# Add titles to your axis (optional)
xlab("") +
ylab("") +
# Choose the size of your map
coord_fixed(ratio=1.5, xlim = c(-165,175), ylim = c(-50,78))
# basemap
ggplot(data = world, aes(x = long, y = lat, group = group)) +
geom_polygon(fill = "white", color = "black", size = 0.3) +
geom_polygon(aes(fill = cat),size = 0.3, alpha = 0.3) +
scale_fill_manual(values=c("blue","red","yellow","black","white"),name = "Country", labels = c("Business",  "Friends", "Visited","Home", "NA")) +
#Add a theme to your final map
theme_void() +
theme(legend.position = "bottom") +
# Add titles to your axis (optional)
xlab("") +
ylab("") +
# Choose the size of your map
coord_fixed(ratio=1.5, xlim = c(-165,175), ylim = c(-50,78))
